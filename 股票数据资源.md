# 股票数据下载资源 - 用于训练短线操作"盘感"

本文档整理了可用于下载股票历史K线数据的资源，用于训练短线操作的"盘感"。

## 1. Alpha Vantage (推荐)

**网站**: https://www.alphavantage.co/

**特点**:
- 提供免费API密钥（每天25次请求）
- 支持多种时间周期：1分钟、5分钟、15分钟、30分钟、60分钟、日线、周线、月线
- 支持全球股票市场数据
- 提供JSON和CSV格式数据
- 包含开盘价、收盘价、最高价、最低价、成交量等完整K线数据

**获取API密钥**:
1. 访问: https://www.alphavantage.co/support/#api-key
2. 填写表单（邮箱、组织等）
3. 免费获取API密钥

**API示例**:
```
https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=IBM&interval=5min&apikey=YOUR_API_KEY
```

**适用场景**: 适合获取美股、全球市场的历史K线数据，支持分钟级数据，非常适合短线训练。

---

## 2. Yahoo Finance (yfinance Python库) ⚠️ 当前不可用

**网站**: https://finance.yahoo.com/

**Python库**: `yfinance`

**特点**:
- 完全免费，无需API密钥
- 支持全球股票市场
- 可以下载任意时间范围的历史数据
- 支持多种时间周期（1分钟、5分钟、15分钟、30分钟、60分钟、日线等）
- 使用简单，Python一行代码即可下载

**⚠️ 当前问题**:
- Yahoo Finance API 返回 429 错误（Too Many Requests）
- 请求被限流，无法正常获取数据
- 可能需要 VPN 或等待较长时间后重试

**安装**:
```bash
pip install yfinance
```

**使用示例**:
```python
import yfinance as yf

# 下载苹果股票的历史数据（1分钟K线）
ticker = yf.Ticker("AAPL")
data = ticker.history(period="1d", interval="1m")

# 下载过去30天的日线数据
data = ticker.history(period="30d", interval="1d")
```

**适用场景**: 理论上适合快速获取大量历史数据，但当前由于限流问题不推荐使用。

---

## 3. Polygon.io (现为Massive)

**网站**: https://polygon.io/ (现重定向到 https://massive.com/)

**特点**:
- 提供免费和付费套餐
- 高质量的历史和实时数据
- 支持美股、期权、外汇等
- 提供REST API和WebSocket

**适用场景**: 需要高质量实时数据或大量历史数据时使用。

---

## 4. 中国A股数据源

### 4.1 Tushare

**网站**: https://tushare.pro/

**特点**:
- 专业的中国A股数据平台
- 需要注册并获取积分（免费用户有基础积分）
- 提供Python接口
- 数据质量高，更新及时

**安装**:
```bash
pip install tushare
```

### 4.2 AKShare

**网站**: https://akshare.akfamily.xyz/

**特点**:
- 完全免费
- 支持中国A股、港股、美股等
- 数据源丰富，包括K线、财务、新闻等
- 纯Python实现

**安装**:
```bash
pip install akshare
```

**使用示例**:
```python
import akshare as ak

# 获取A股历史K线数据
stock_zh_a_hist = ak.stock_zh_a_hist(symbol="000001", period="daily", start_date="20230101", end_date="20231231")
```

**适用场景**: 专门用于获取中国A股数据，适合训练A股短线操作。

---

## 5. 专业K线训练应用

### 5.1 大操盘手
- 提供海量历史K线数据
- 支持模拟交易训练
- 移动端应用

### 5.2 短线客
- K线训练和股票模拟
- AI智能分析
- 适合短线交易者

---

## 推荐方案

### 对于美股/全球市场:
1. **首选**: Alpha Vantage - 免费API密钥，每天25次请求，稳定可靠 ⭐
2. **备选**: Finnhub - 免费，每分钟60次请求
3. **备选**: IEX Cloud - 免费层每月50万次请求
4. ~~yfinance (Yahoo Finance)~~ - 当前不可用（429限流错误）

### 对于中国A股:
1. **首选**: AKShare - 完全免费，数据丰富
2. **备选**: Tushare - 需要注册，但数据质量更高

### 快速开始（Alpha Vantage）:
1. 访问 https://www.alphavantage.co/support/#api-key 获取免费API密钥
2. 运行测试脚本: `python3 test_alphavantage.py YOUR_API_KEY`
3. 数据会自动转换为项目需要的JSON格式

### 数据格式建议:
- 保存为CSV格式，包含：时间、开盘价、最高价、最低价、收盘价、成交量
- 时间周期：1分钟、5分钟、15分钟（适合短线训练）
- 数据量：建议每个股票至少1000根K线以上

---

## 数据预处理建议

下载数据后，建议进行以下处理：
1. 数据清洗：去除异常值、缺失值
2. 数据标准化：统一时间格式
3. 数据分割：按时间顺序分割为训练集和测试集
4. 特征提取：计算技术指标（如MA、MACD、RSI等）

---

## 注意事项

1. **API限制**: 注意各平台的请求频率限制
2. **数据延迟**: 免费API通常有15-20分钟延迟
3. **数据准确性**: 建议对比多个数据源验证准确性
4. **合规性**: 确保数据使用符合各平台的服务条款
